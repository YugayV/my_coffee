# Полный гайд по интеграции рекламы и выводу средств (Корея)

Этот гайд поможет настроить монетизацию в проекте **Kafe AI** и вывести заработанные деньги на корейский банковский счет.

В файле `.env` вы можете переключать провайдера рекламы, меняя значение `ADS_PROVIDER` на `local`, `adsense`, `kakao` или `naver`.

---

## 1. Google AdSense (Глобальная сеть)

Самый популярный вариант. Подходит, если у вас есть домен (например, `kafe-ai.com`).

### Шаг 1: Регистрация и настройка
1. Перейдите на [Google AdSense](https://adsense.google.com/).
2. Войдите через Google-аккаунт и нажмите **Get Started**.
3. Добавьте URL вашего сайта (сайт должен быть доступен публично, не `localhost`).
4. В разделе **Ads (Объявления)** -> **By ad unit (По рекламным блокам)** создайте новый блок **Display ads (Медийные объявления)**.
   - Назовите его (например, "Right Sidebar").
   - Размер: "Responsive" (Адаптивный).
   - Нажмите **Create**.
5. Вы получите код вида:
   ```html
   <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-1234567890123456"
        data-ad-slot="9876543210"
        ...></ins>
   ```

### Шаг 2: Интеграция в код
Откройте файл `.env` в корне проекта и впишите данные:
```env
ADS_PROVIDER=adsense
ADSENSE_CLIENT_ID=ca-pub-1234567890123456
ADSENSE_SLOT_ID=9876543210
```
Перезапустите сервер (`npm start`).

### Шаг 3: Вывод денег на корейский счет
1. **Порог**: $100.
2. **Верификация**:
   - Google отправит письмо с PIN-кодом на ваш физический адрес в Корее (обычно приходит за 2-4 недели).
   - Введите PIN в личном кабинете.
3. **Банковский счет**:
   - В разделе **Payments (Платежи)** добавьте **Wire Transfer to bank account**.
   - **Bank Name**: Название вашего банка (например, Shinhan Bank, Woori Bank).
   - **SWIFT BIC**: Код банка (найдите в поиске "Shinhan Bank SWIFT code").
   - **Account Number**: Ваш номер счета.
   - **Примечание**: Лучше использовать счет, который принимает валюту (Foreign Currency Account), или обычный счет (банк сам конвертирует USD в KRW по курсу, возможно, с комиссией ~10,000 KRW за входящий перевод).
4. **Выплата**: Автоматически 21-26 числа каждого месяца, если баланс > $100.

---

## 2. Kakao AdFit (Лучше для корейской аудитории)

Отлично работает с корейским трафиком (KakaoTalk, Daum).

### Шаг 1: Регистрация
1. Перейдите на [Kakao AdFit](https://adfit.kakao.com/).
2. Войдите через Kakao-аккаунт.
3. Нажмите **광고관리 (Управление рекламой)** -> **+ 새 매체 (Новое медиа)**.
   - **매체명**: Kafe AI
   - **매체유형**: Web (Веб-сайт)
   - **URL**: Ваш домен
4. После создания медиа, добавьте **광고단위 (Рекламный блок)**.
   - Тип: 배너 (Banner) -> 300x250 (прямоугольник) или Responsive.
5. Вы получите скрипт. Найдите в нем `data-ad-unit`:
   ```html
   <ins class="kakao_ad_area" style="display:none;"
    data-ad-unit = "DAN-abCdeFghIjKlMnOp"
    ...></ins>
   ```

### Шаг 2: Интеграция
В `.env`:
```env
ADS_PROVIDER=kakao
KAKAO_AD_UNIT_ID=DAN-abCdeFghIjKlMnOp
KAKAO_AD_SCRIPT_URL=https://t1.daumcdn.net/kas/static/ba.min.js
```

### Шаг 3: Вывод денег (정산)
1. **Порог**: 50,000 KRW.
2. Перейдите в **정산 (Расчеты)** -> **정보 관리 (Управление информацией)**.
3. Загрузите фото ID (Alien Registration Card / ID card) и копию банковской книжки (Bankbook copy / Tongjang).
4. **Счет**: Любой корейский банк.
5. Деньги приходят в KRW без комиссий за SWIFT.

---

## 3. Naver AdPost (Сложно для внешних сайтов)

Naver в основном работает с Naver Blog/Cafe. Для внешних сайтов (Media Partner) требования очень строгие (высокая посещаемость).

### Шаг 1: Регистрация
1. [Naver AdPost](https://adpost.naver.com/).
2. **미디어 관리 (Управление медиа)** -> **미디어 등록 (Регистрация)**.
3. Выберите **미디어 파트너 (Media Partner)**, если у вас свой сайт.
   - *Важно*: Сайт должен пройти проверку контента и трафика.

### Шаг 2: Интеграция
Если одобрили, получите ID блока.
В `.env`:
```env
ADS_PROVIDER=naver
NAVER_AD_UNIT_ID=YOUR_NAVER_UNIT_ID
NAVER_AD_SCRIPT_URL=https://ssl.pstatic.net/tveta/libs/glad/prod/gfp-core.js
```

### Шаг 3: Вывод денег
1. **Порог**: 50,000 KRW (или 5,000, если вывод в Naver Pay).
2. Вывод возможен на банковский счет или в баллы Naver Pay.

---

## 4. Локальная реклама (Собственная система)

Если вы не хотите зависеть от сетей или пока нет трафика для одобрения.

### Как работает
1. В `.env` поставьте `ADS_PROVIDER=local`.
2. Зайдите в Админ-панель (двойной клик по лого -> пароль).
3. Вкладка **Реклама** -> Создайте объявление.
   - **Заголовок**: "Лучший кофе в Сеуле"
   - **Текст**: "Скидка 20% по коду KAFEAI"
   - **Город**: "seoul" (или "all")
   - **Вес**: Чем больше число, тем выше объявление.
   - **Ссылка**: Куда ведет клик.

### Деньги
Вы сами договариваетесь с рекламодателями (например, владельцами кофеен) и получаете оплату наличными или переводом на счет. В системе вы просто включаете/выключаете их объявления.

---

## Рекомендация для старта
1. Начните с **ADS_PROVIDER=local**, чтобы заполнить место своими промо или партнерскими кафе.
2. Подайте заявку в **Google AdSense** (рассмотрение может занять до 2 недель).
3. Как только AdSense одобрят, поменяйте в `.env` провайдер на `adsense`.
